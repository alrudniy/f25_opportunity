{% extends "base.html" %}

{% block title %}Experiences & Achievements{% endblock %}

{% block extra_css %}
<style>
    .container {
        max-width: 900px;
        margin: 0 auto;
        padding: 2rem;
    }
    
    h1 {
        text-align: center;
        margin-bottom: 2rem;
        color: #333;
    }
    
    .section {
        margin-bottom: 3rem;
    }
    
    .section h2 {
        border-bottom: 2px solid #007bff;
        padding-bottom: 0.5rem;
        margin-bottom: 1.5rem;
        color: #333;
    }
    
    .card {
        border: 1px solid #ddd;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        border-radius: 5px;
        background: #fff;
    }
    
    .card h3 {
        margin: 0 0 0.5rem 0;
        color: #007bff;
    }
    
    .card-meta {
        color: #666;
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
    }
    
    .current-badge {
        background: #28a745;
        color: white;
        padding: 0.2rem 0.5rem;
        border-radius: 3px;
        font-size: 0.8rem;
        margin-left: 0.5rem;
    }
    
    .skill-list {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
    }
    
    .skill-tag {
        background: #f0f0f0;
        padding: 0.5rem 1rem;
        border-radius: 3px;
        font-size: 0.9rem;
    }
    
    .empty-message {
        text-align: center;
        color: #999;
        padding: 2rem;
        background: #f9f9f9;
        border-radius: 5px;
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <h1>My Experiences & Achievements</h1>
    
    <!-- Work Experience -->
    <div class="section">
        <h2>Work Experience</h2>
        {% if work_experiences %}
            {% for exp in work_experiences %}
            <div class="card">
                <h3>{{ exp.position }}</h3>
                <div class="card-meta">
                    <strong>{{ exp.company }}</strong>
                    {% if exp.location %} • {{ exp.location }}{% endif %}
                    <br>
                    {{ exp.start_date|date:"M Y" }} - 
                    {% if exp.is_current %}
                        Present <span class="current-badge">Current</span>
                    {% else %}
                        {{ exp.end_date|date:"M Y" }}
                    {% endif %}
                </div>
                {% if exp.description %}
                    <p>{{ exp.description }}</p>
                {% endif %}
            </div>
            {% endfor %}
        {% else %}
            <div class="empty-message">No work experience added yet</div>
        {% endif %}
    </div>
    
    <!-- Education -->
    <div class="section">
        <h2>Education</h2>
        {% if education %}
            {% for edu in education %}
            <div class="card">
                <h3>{{ edu.degree }}</h3>
                <div class="card-meta">
                    <strong>{{ edu.institution }}</strong>
                    {% if edu.location %} • {{ edu.location }}{% endif %}
                    <br>
                    {{ edu.field_of_study }}
                    <br>
                    {{ edu.start_date|date:"Y" }} - 
                    {% if edu.is_current %}
                        Present <span class="current-badge">Current</span>
                    {% else %}
                        {{ edu.end_date|date:"Y" }}
                    {% endif %}
                    {% if edu.gpa %} • GPA: {{ edu.gpa }}{% endif %}
                </div>
                {% if edu.description %}
                    <p>{{ edu.description }}</p>
                {% endif %}
            </div>
            {% endfor %}
        {% else %}
            <div class="empty-message">No education added yet</div>
        {% endif %}
    </div>
    
    <!-- Skills -->
    <div class="section">
        <h2>Skills</h2>
        {% if skills_by_category %}
            {% for category, skills in skills_by_category.items %}
            <div class="card">
                <h3>{{ category }}</h3>
                <div class="skill-list">
                    {% for skill in skills %}
                    <span class="skill-tag">{{ skill.name }} ({{ skill.get_proficiency_display }})</span>
                    {% endfor %}
                </div>
            </div>
            {% endfor %}
        {% else %}
            <div class="empty-message">No skills added yet</div>
        {% endif %}
    </div>
    
    <!-- Achievements -->
    <div class="section">
        <h2>Achievements</h2>
        {% if achievements %}
            {% for achievement in achievements %}
            <div class="card">
                <h3>{{ achievement.title }}</h3>
                <div class="card-meta">
                    {% if achievement.organization %}<strong>{{ achievement.organization }}</strong> • {% endif %}
                    {{ achievement.date|date:"F Y" }}
                </div>
                {% if achievement.description %}
                    <p>{{ achievement.description }}</p>
                {% endif %}
                {% if achievement.certificate_url %}
                    <a href="{{ achievement.certificate_url }}" target="_blank">View Certificate</a>
                {% endif %}
            </div>
            {% endfor %}
        {% else %}
            <div class="empty-message">No achievements added yet</div>
        {% endif %}
    </div>
</div>
{% endblock %}